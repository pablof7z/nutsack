appId: com.nutsack.wallet
---
# Test Account Creation Flow

- launchApp

# Wait for app to initialize
- assertVisible:
    text: "Nutsack"
    
- assertVisible:
    text: "Lightning-fast payments with Nostr"

# Click Create Account button
- tapOn:
    text: "Create Account"

# Wait for Create Account screen
- assertVisible:
    text: "Profile Information"

# Fill in display name
- tapOn:
    text: "Display Name"
- inputText: "Test User ${TIMESTAMP}"

# Fill in about (optional)
- tapOn:
    text: "About (optional)"
- inputText: "Test account created by Maestro"

# Create the account
- tapOn:
    text: "Create Account"

# Wait for account creation to complete
- waitForAnimationToEnd

# Should see the backup key screen
- assertVisible:
    text: "Save Your Private Key"
- assertVisible:
    text: "This is the only way to access your account"

# Verify nsec is displayed
- assertVisible:
    text: "Your private key (nsec):"
- assertVisible:
    id: ".*nsec1.*"  # Regex to match nsec format

# Toggle the saved key checkbox
- tapOn:
    text: "I have saved my private key"

# Continue to wallet
- tapOn:
    text: "Continue to Wallet"

# Verify we're in the main app
- assertVisible:
    text: "Wallet"
- assertVisible:
    id: ".*TabView.*"  # Should see the tab view

# Verify we don't see the authentication screen anymore
- assertNotVisible:
    text: "Lightning-fast payments with Nostr"
- assertNotVisible:
    text: "Create Account"